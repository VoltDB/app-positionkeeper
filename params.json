{"name":"App-positionkeeper","tagline":"Track portfolio position and monitor margin risk, updating with every trade or component price change","body":"# VoltDB Example App: Position Keeper\r\n\r\nUse Case\r\n--------\r\nThis application simulates a simple position keeper applicaton that maintains the positions of portfolios that are updated frequently as trades and price changes occur.\r\n\r\nCode organization\r\n-----------------\r\nThe code is divided into two projects:\r\n\r\n- \"db\": the database project, which contains the schema, stored procedures and other configurations that are compiled into a catalog and run in a VoltDB database.  \r\n- \"client\": a java client that loads a set of cards and then generates random card transactions a high velocity to simulate card activity.\r\n\r\nSee below for instructions on running these applications.  For any questions, \r\nplease contact fieldengineering@voltdb.com.\r\n\r\nPre-requisites\r\n--------------\r\nBefore running these scripts you need to have VoltDB 4.0 (Enterprise or Community) or later installed, and you should add the voltdb-$(VERSION)/bin directory to your PATH environment variable, for example:\r\n\r\n    export PATH=\"$PATH:$HOME/voltdb-ent-4.0.2/bin\"\r\n\r\n\r\nInstructions\r\n------------\r\n\r\n1. Start the database in the background\r\n\r\n    ./start_db.sh\r\n     \r\n2. Run the client application\r\n\r\n    ./run_client.sh\r\n\t\r\nNote: this client can only be run once, not repeatedly, or it will stop with unique constraint violations.  To run it again, the database needs to be stopped and restarted, or all of the tables need to be truncated.\r\n\r\n3. To stop the database and clean up temp files\r\n\r\n    voltadmin shutdown\r\n    ./clean.sh\r\n\r\n\r\n\r\nOptions\r\n-------\r\nYou can control various characteristics of the demo by modifying the parameters passed into the InvestmentBenchmark java application in the run_client.sh script.\r\n\r\nSpeed & Duration:\r\n\r\n    --duration=120                (benchmark duration in seconds)\r\n    --autotune=true               (true = ignore rate limit, run at max throughput until latency is impacted)\r\n                                  (false = run at the specified rate limit)\r\n    --ratelimit=20000             (when autotune=false, run up to this rate of requests/second)\r\n\r\nUse case parameters:\r\n\r\n\t--traders=1000                 (number of traders)\r\n\t--secpercnt=10                 (number of securities each trader has in their portfolio)\r\n\r\n\r\nInstructions for running on a cluster\r\n-------------------------------------\r\n\r\nBefore running this demo on a cluster, make the following changes:\r\n\r\n1. On each server, edit the start_db_cluster.sh file to set the HOST variable to the name of the **first** server in the cluster:\r\n    \r\n    HOST=voltserver01\r\n    \r\n2. On each server, edit db/deployment-cluster.xml to set hostcount to the correct number of servers:\r\n\r\n    <cluster hostcount=\"3\" sitesperhost=\"8\" kfactor=\"0\" />\r\n\t\r\nAlso, in the same file, set the voltdbroot path to an appropriate path for your servers.\r\n\r\n4. On each server, run the start script:\r\n\r\n    ./start_db_cluster.sh\r\n    \r\n5. On one server, Edit the run_client.sh script to set the SERVERS variable to a comma-separated list of the servers in the cluster\r\n\r\n    SERVERS=voltserver01,voltserver02,voltserver03\r\n    \r\n6. Run the client script:\r\n\r\n    ./run_client.sh\r\n\r\n\r\n\r\n\r\n","google":"UA-47652901-3","note":"Don't delete this file! It's used internally to help with page regeneration."}